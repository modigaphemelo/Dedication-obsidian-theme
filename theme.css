/* ==== Colors ====*/
.theme-dark{
    --background-primary:         #060335;
    --background-primary-alt:     #242424;
    --background-secondary:       #191919;
    --background-secondary-alt:   #3D3D3D;
    --text-normal:                #faf2d6;
    --text-faint:                 #c0b0a0;

    /* Heading colors */
    --text-title-h1:              #cc00c4;
    --text-title-h2:              #00b7eb;
    --text-title-h3:              #ff8c00;
    --text-title-h4:              #0000cc;
    --text-title-h5:              #cc0000;
    --text-title-h6:              #cccc00;

    --text-highlight-bg:          #640211;
    --text-link:                  #83a598; 
    --text-a-hover:               #83a598; 
    --text-accent-hover:          #D49335;

    /* ^^^ added for hover over bracket internal links */
    --inline-code:                #8b5cf6;
    --code-block:                 #83a598; 
    --text-a:                     #f8c537; 
    --interactive-accent:         #0066cc;
    --text-accent:                #00ffff; 
    --text-on-accent:             #fff;
    --interactive-accent-rgb:     #f8c537; 
    --vim-cursor:                 #f8c537;

    --pre-code:                   #1e1e1e; 
    --interactive-before:         #7c6f64;
    --background-modifier-border: #00ffff;
    --text-selection:            #0066cc;
}

.theme-dark .cm-s-obsidian span.obsidian-search-match-highlight {
color: var(--text-normal);
background-color: #483699;
}

.theme-light{
    --background-primary:         #EDEDED;
    --background-secondary:       #C4C4C4;
    /* thick menu border */
    --background-primary-alt:     #d4d4d4; 
    --background-secondary-alt:   #707070; 
    --text-normal:                #1A2023;
    --text-faint:                 #999999; 

    /* Heading colors */
    --text-title-h1:              #cc00c4;
    --text-title-h2:              #00b7eb;
    --text-title-h3:              #ff8c00;
    --text-title-h4:              #0000cc;
    --text-title-h5:              #cc0000;
    --text-title-h6:              #35af10;

    --text-link:                  #D49335;
    --text-a-hover:               #D49335;
    --text-accent-hover:          #D49335;
    /* ^^^ added for hover over bracket internal links */
    --inline-code:                #458588;

    --pre-code:                   #bebebe;
    --text-highlight-bg:          #f0f0f0;
    --interactive-before:         #a89984;
    --background-modifier-border: #00ffff;
    --text-a:                     #961327;
    --interactive-accent:         #0066cc;
    --text-accent:                #00ffff;
    --interactive-accent-rgb:     #961327;
    --vim-cursor:                 #961327;
    --text-selection:             #0066cc;
    --text-white:                 #ffffff;
}

.theme-light .cm-s-obsidian span.obsidian-search-match-highlight {
background-color: #808080;
}
/*=========================================================================================*/

/* Font Styling */

:root {
  --default-font: 'Times New Roman', Times, serif; /* Primary font with fallbacks */
}

/* Apply font to editor (source and preview modes) and UI */
body, .cm-scroller, .markdown-preview-view {
  font-family: var(--default-font) !important; /* Times New Roman with fallbacks */
}

/*=========================================================================================*/

/*==== Checkbox ====*/

/* No Strikethrough */
.markdown-source-view.mod-cm6 .HyperMD-task-line[data-task="x"],
.markdown-source-view.mod-cm6 .HyperMD-task-line[data-task="X"],
ul>li.task-list-item[data-task="x"],
ul>li.task-list-item[data-task="X"] {
    text-decoration: none;
    color: var(--interactive-accent);
}

/*=========================================================================================*/

/*==== Calender ====*/
.container#calendar-container .calendar {
  & > thead > tr:first-of-type {
    & > th:nth-child(1) {
      color: rgb(255, 0, 0);
    }
    & > th:nth-child(2) {
      color: rgb(255, 165, 0);
    }
    & > th:nth-child(3) {
      color: rgb(255, 255, 0);
    }
    & > th:nth-child(4) {
      color: rgb(0, 128, 0);
    }
    & > th:nth-child(5) {
      color: rgb(0, 0, 255);
    }
    & > th:nth-child(6) {
      color: rgb(228, 175, 2);
    }
    & > th:nth-child(7) {
      color: rgb(238, 130, 238);
    }
  }
}

.view-content:has(#calendar-container) {
  padding:0;
}

#calendar-container {
padding:0 8px 8px 8px;
}

#calendar-container .year {
color:var(--text-muted);
}
#calendar-container td,
#calendar-container .day {
border-radius:0 !important;
}
#calendar-container .day {
padding-top:0px;
padding-bottom:0;
}

#calendar-container .day.today {
color: var(--text-bold);
font-weight:900;
outline:2px solid var(--color-cyan);;
}

#calendar-container .weekend {
background: var(--background-primary);
}

/*=========================================================================================*/

/*==== Blockquote ====*/
.cm-quote,
.markdown-preview-view blockquote {
    color: rgb(33, 33, 33);
    font-style: italic;
}

.markdown-preview-view blockquote {
    position: relative;
    padding: 1rem 2rem 1rem 2.5rem;
    margin: 1rem 0;
    border-left: 4px solid rgb(8, 145, 178);
    border-radius: 5px;
    background: linear-gradient(135deg, rgba(245, 247, 250, 0.8), rgba(19, 166, 240, 0.9));
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1); /* Subtle shadow for depth */
}

/* Quote icon */
.markdown-preview-view blockquote::before {
    content: "\201C"; /* Left double quote */
    position: absolute;
    top: 0.5rem;
    left: 0.5rem;
    font-size: 2rem;
    font-family: Georgia, serif;
    color: rgb(8, 145, 178);
    opacity: 0.7;
}

/* Bottom accent line */
.markdown-preview-view blockquote::after {
    content: "";
    position: absolute;
    bottom: 0;
    left: 0;
    width: 30%;
    height: 2px;
    background: rgb(8, 145, 178);
}

/*=========================================================================================*/

/* File Pane */

/* Icons in Pane */
.tree-item-self .tree-item-icon {
    height: var(--size-4-4);
    --icon-color: currentColor;
}

.tree-item-self .tree-item-icon .svg-icon:not(.right-triangle) {
    --icon-size: var(--icon-s);
    --icon-stroke: var(--icon-s-stroke-width);
}

/* Hide collapse icon stroke for tags, bookmarks, and file explorer when not hovered */
body:not(.file-icon-remove) .workspace-leaf-content[data-type="tag"] .tree-item:not(:hover) .tree-item-icon.collapse-icon svg.svg-icon,
body:not(.file-icon-remove) .workspace-leaf-content:is([data-type="bookmarks"], [data-type="file-explorer"]) .tree-item-icon.collapse-icon svg.svg-icon {
    color: transparent;
}

/* Apply background color to collapse icons */
body:not(.file-icon-remove) .workspace-leaf-content[data-type="tag"] .tree-item:not(:hover) .tree-item-icon.collapse-icon,
body:not(.file-icon-remove) .workspace-leaf-content:is([data-type="bookmarks"], [data-type="file-explorer"]) .tree-item-icon.collapse-icon {
    background-color: var(--folder-color, currentColor);
    opacity: var(--icon-opacity);
}

/* Add pseudo-element for items without collapse icons */
body:not(.file-icon-remove) .workspace-leaf-content[data-type="tag"] .tree-item-self:not(:has(>.tree-item-icon.collapse-icon))::before,
body:not(.file-icon-remove) .workspace-leaf-content[data-type="file-explorer"] :is(.nav-file-title, .nav-folder.mod-root>.nav-folder-title)::before {
    content: " ";
    position: absolute;
    margin-left: calc(-1 * var(--size-4-5));
    width: var(--size-4-4);
    height: var(--size-4-4);
    display: flex;
    align-items: center;
    justify-content: center;
    opacity: var(--icon-opacity);
    background-color: var(--folder-color, currentColor);
    flex: 0 0 auto;
}

/* Folder icon for root folder */
body:not(.file-icon-remove) .workspace-leaf-content[data-type="file-explorer"] .nav-folder.mod-root>.nav-folder-title::before {
    -webkit-mask-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='none' viewBox='0 0 16 16'%3e%3cg stroke='black' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.333'%3e%3cpath d='M14 12.8V3.2c0-.884-.264-1.2-1-1.2H3c-.736 0-1 .316-1 1.2v9.6c0 .884.264 1.2 1 1.2h10c.736 0 1-.316 1-1.2Z'/%3e%3cpath d='M9.978 7.04a2 2 0 1 1-3.956.587 2 2 0 0 1 3.956-.587ZM8 9.333v2m6-6.666h1m-1 6h1'/%3e%3c/g%3e%3c/svg%3e");
}

/* Folder icon for expanded folders */
body:not(.file-icon-remove) .workspace-leaf-content[data-type="file-explorer"] .tree-item-icon.collapse-icon,
body:not(.file-icon-remove) .workspace-leaf-content[data-type="bookmarks"] .tree-item-icon.collapse-icon {
    -webkit-mask-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='none' viewBox='0 0 16 16'%3e%3cpath stroke='black' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.333' d='M4 9.333 4.967 7.4a1.333 1.333 0 0 1 1.193-.733h7.173m0 0a1.333 1.333 0 0 1 1.294 1.666l-1.034 4a1.333 1.333 0 0 1-1.293 1H2.667A1.333 1.333 0 0 1 1.333 12V3.333C1.333 2.6 1.933 2 2.667 2h2.62a1.333 1.333 0 0 1 1.106.6l.547.8a1.333 1.333 0 0 0 1.107.6H12a1.333 1.333 0 0 1 1.333 1.333v1.334Z'/%3e%3c/svg%3e");
}

/* Folder icon for collapsed folders */
body:not(.file-icon-remove) .workspace-leaf-content[data-type="file-explorer"] .is-collapsed .tree-item-icon.collapse-icon,
body:not(.file-icon-remove) .workspace-leaf-content[data-type="bookmarks"] .is-collapsed .tree-item-icon.collapse-icon {
    -webkit-mask-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='none' viewBox='0 0 16 16'%3e%3cpath stroke='black' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.333' d='M2.667 13.333h10.666A1.333 1.333 0 0 0 14.667 12V5.333A1.333 1.333 0 0 0 13.333 4H8.047a1.333 1.333 0 0 1-1.107-.6l-.547-.8A1.333 1.333 0 0 0 5.287 2h-2.62a1.333 1.333 0 0 0-1.334 1.333V12c0 .733.6 1.333 1.334 1.333Z'/%3e%3c/svg%3e");
}

/* File icon for general files */
body:not(.file-icon-remove) .workspace-leaf-content[data-type="file-explorer"] .nav-file-title::before {
    -webkit-mask-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='none' viewBox='0 0 16 16'%3e%3cg stroke='black' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.333'%3e%3cpath d='M9.667 1.333H4a1.333 1.333 0 0 0-1.333 1.334v10.666A1.333 1.333 0 0 0 4 14.667h8a1.333 1.333 0 0 0 1.333-1.334V5L9.667 1.333Z'/%3e%3cpath d='M9.333 1.333v4h4'/%3e%3c/g%3e%3c/svg%3e");
}

/* Canvas file icon */
body:not(.file-icon-remove) .workspace-leaf-content[data-type="file-explorer"] .nav-file-title[data-path$=".canvas"]::before {
    -webkit-mask-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='none' viewBox='0 0 16 16'%3e%3cpath stroke='black' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.333' d='M6 2H2.667A.667.667 0 0 0 2 2.667v4.666c0 .369.298.667.667.667H6a.667.667 0 0 0 .667-.667V2.667A.667.667 0 0 0 6 2Zm7.333 0H10a.667.667 0 0 0-.667.667v2c0 .368.299.666.667.666h3.333A.667.667 0 0 0 14 4.667v-2A.667.667 0 0 0 13.333 2Zm0 6H10a.667.667 0 0 0-.667.667v4.666c0 .368.299.667.667.667h3.333a.667.667 0 0 0 .667-.667V8.667A.667.667 0 0 0 13.333 8ZM6 10.667H2.667a.667.667 0 0 0-.667.666v2c0 .368.298.667.667.667H6a.667.667 0 0 0 .667-.667v-2A.667.667 0 0 0 6 10.667Z'/%3e%3c/svg%3e");
}

/* Base file icon */
body:not(.file-icon-remove) .workspace-leaf-content[data-type="file-explorer"] .nav-file-title[data-path$=".base"]::before {
    -webkit-mask-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='none' viewBox='0 0 16 16'%3e%3cpath stroke='black' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.333' d='M6 2H2.667A.667.667 0 0 0 2 2.667V6c0 .368.298.667.667.667H6A.667.667 0 0 0 6.667 6V2.667A.667.667 0 0 0 6 2Zm0 7.333H2.667A.667.667 0 0 0 2 10v3.333c0 .368.298.667.667.667H6a.667.667 0 0 0 .667-.667V10A.667.667 0 0 0 6 9.333Zm3.333-6.666H14M9.333 6H14m-4.667 4H14m-4.667 3.333H14'/%3e%3c/svg%3e");
}

/* Unsupported file icon */
body:not(.file-icon-remove) .workspace-leaf-content[data-type="file-explorer"] .is-unsupported.nav-file-title::before {
    -webkit-mask-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='none' viewBox='0 0 16 16'%3e%3cg stroke='black' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.333'%3e%3cpath d='M9.667 1.333H4a1.333 1.333 0 0 0-1.333 1.334v10.666A1.333 1.333 0 0 0 4 14.667h8a1.333 1.333 0 0 0 1.333-1.334V5L9.667 1.333Z'/%3e%3cpath d='M6.667 6.867c.133-.267.333-.534.6-.667A1.4 1.4 0 0 1 9 6.467c.2.266.333.533.333.866C9.333 8.2 8 8.667 8 8.667m0 2.666h.007'/%3e%3c/g%3e%3c/svg%3e");
}

/* ZIP and 7z file icon */
body:not(.file-icon-remove) .workspace-leaf-content[data-type="file-explorer"] .is-unsupported.nav-file-title:is([data-path$=".zip"], [data-path$=".7z"])::before {
    -webkit-mask-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='none' viewBox='0 0 16 16'%3e%3cg stroke='black' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.333'%3e%3cpath d='M2.667 14.667v-12c0-.334.133-.667.4-.934.266-.266.6-.4.933-.4h5.667L13.333 5v8.333c0 .334-.133.667-.4.934-.266.266-.6.4-.933.4h-1.333'/%3e%3cpath d='M9.333 1.333v4h4m-6.666 9.334a1.333 1.333 0 1 0 0-2.667 1.333 1.333 0 0 0 0 2.667Zm0-10V4m0 4v-.667m0 4.667v-1.333'/%3e%3c/g%3e%3c/svg%3e");
}

/* WebM file icon */
body:not(.file-icon-remove) .workspace-leaf-content[data-type="file-explorer"] .nav-file-title[data-path$=".webm"]::before {
    -webkit-mask-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='none' viewBox='0 0 16 16'%3e%3cg stroke='black' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.333'%3e%3cpath d='M2.667 14.667H12a1.333 1.333 0 0 0 1.333-1.334V5L9.667 1.333H4a1.333 1.333 0 0 0-1.333 1.334v2'/%3e%3cpath d='M9.333 1.333v4h4M4.667 6.667 2.667 8H1.333v2.667h1.334l2 1.333V6.667Zm2.666.666c.427.534.667 1.247.667 2 0 .754-.24 1.467-.667 2'/%3e%3c/g%3e%3c/svg%3e");
}

/* Image file icon */
body:not(.file-icon-remove) .workspace-leaf-content[data-type="file-explorer"] .nav-file-title:is([data-path$=".svg"], [data-path$=".bmp"], [data-path$=".jpeg"], [data-path$=".jpg"], [data-path$=".png"], [data-path$=".gif"])::before {
    -webkit-mask-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='none' viewBox='0 0 16 16'%3e%3cg stroke='black' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.333'%3e%3cpath d='M12.667 2H3.333C2.597 2 2 2.597 2 3.333v9.334C2 13.403 2.597 14 3.333 14h9.334c.736 0 1.333-.597 1.333-1.333V3.333C14 2.597 13.403 2 12.667 2Z'/%3e%3cpath d='M6 7.333a1.333 1.333 0 1 0 0-2.666 1.333 1.333 0 0 0 0 2.666ZM14 10l-2.057-2.057a1.333 1.333 0 0 0-1.886 0L4 14'/%3e%3c/g%3e%3c/svg%3e");
}

/* PDF file icon */
body:not(.file-icon-remove) .workspace-leaf-content[data-type="file-explorer"] .nav-file-title[data-path$=".pdf"]::before {
    -webkit-mask-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='none' viewBox='0 0 16 16'%3e%3cg stroke='black' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.333'%3e%3cpath d='M9.667 1.333H4a1.333 1.333 0 0 0-1.333 1.334v10.666A1.333 1.333 0 0 0 4 14.667h8a1.333 1.333 0 0 0 1.333-1.334V5L9.667 1.333Z'/%3e%3cpath d='M9.333 1.333v4h4m-2.666 3.334H5.333m5.334 2.666H5.333M6.667 6H5.333'/%3e%3c/g%3e%3c/svg%3e");
}

/* Excalidraw file icon */
body:not(.file-icon-remove) .workspace-leaf-content[data-type="file-explorer"] .nav-file-title[data-path$=".excalidraw.md"]::before {
    -webkit-mask-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='none' viewBox='0 0 16 16'%3e%3cg stroke='black' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.333' clip-path='url(%23a)'%3e%3cpath d='M8 12.667 12.667 8l2 2L10 14.667l-2-2Z'/%3e%3cpath d='m12 8.667-1-5-9.667-2.334L3.667 11l5 1L12 8.667ZM1.333 1.333l5.058 5.058'/%3e%3cpath d='M7.333 8.667a1.333 1.333 0 1 0 0-2.667 1.333 1.333 0 0 0 0 2.667Z'/%3e%3c/g%3e%3cdefs%3e%3cclipPath id='a'%3e%3cpath fill='white' d='M0 0h16v16H0z'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e");
}

/* Tag icon */
body:not(.file-icon-remove) .workspace-leaf-content[data-type="tag"] .tree-item:not(:hover) .tree-item-icon.collapse-icon {
    -webkit-mask-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='none' viewBox='0 0 16 16'%3e%3cg stroke='black' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.333'%3e%3cpath d='M6 3.333H1.333V8l4.194 4.193a1.617 1.617 0 0 0 2.28 0l2.386-2.386a1.617 1.617 0 0 0 0-2.28L6 3.333ZM4 6.007V6'/%3e%3cpath d='m10 3.333 4.2 4.2a1.6 1.6 0 0 1 0 2.267l-2.867 2.867'/%3e%3c/g%3e%3c/svg%3e");
}

/* Tag item icon */
body:not(.file-icon-remove) .workspace-leaf-content[data-type="tag"] .tree-item-self:not(:has(>.tree-item-icon.collapse-icon))::before {
    -webkit-mask-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='none' viewBox='0 0 16 16'%3e%3cg clip-path='url(%23a)'%3e%3cpath stroke='black' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.333' d='M8 1.333H1.333V8l6.194 6.193a1.617 1.617 0 0 0 2.28 0l4.386-4.386a1.617 1.617 0 0 0 0-2.28L8 1.333ZM4.667 4.667h.006'/%3e%3c/g%3e%3cdefs%3e%3cclipPath id='a'%3e%3cpath fill='white' d='M0 0h16v16H0z'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e");
}

/* Bookmark folder icon */
body:not(.file-icon-remove) .workspace-leaf-content[data-type="bookmarks"] svg.lucide-folder {
    background-color: var(--folder-color, currentColor);
    -webkit-mask-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='none' viewBox='0 0 16 16'%3e%3cg stroke='black' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.333'%3e%3cpath d='M1.333 6V3.333C1.333 2.6 1.933 2 2.667 2h2.62a1.333 1.333 0 0 1 1.106.6l.547.8a1.333 1.333 0 0 0 1.107.6h5.286a1.333 1.333 0 0 1 1.334 1.333V12a1.333 1.333 0 0 1-1.334 1.333h-12'/%3e%3cpath d='m5.333 10.667 2-2-2-2'/%3e%3cpath d='M1.333 10.667V10a1.333 1.333 0 0 1 1.334-1.333h4'/%3e%3c/g%3e%3c/svg%3e");
}

/* Colorful Folders (consolidated from previous snippet) */
.nav-files-container > div > .nav-folder {
    --nav-item-color: var(--folder-color);
}

.nav-files-container > div > .nav-folder:nth-child(11n + 2) {
    --folder-color: rgb(220, 38, 38); /* Red */
}

.nav-files-container > div > .nav-folder:nth-child(11n + 3) {
    --folder-color: rgb(234, 88, 12); /* Orange */
}

.nav-files-container > div > .nav-folder:nth-child(11n + 4) {
    --folder-color: rgb(245, 158, 11); /* Amber */
}

.nav-files-container > div > .nav-folder:nth-child(11n + 5) {
    --folder-color: rgb(202, 138, 4); /* Yellow */
}

.nav-files-container > div > .nav-folder:nth-child(11n + 6) {
    --folder-color: rgb(21, 128, 61); /* Green */
}

.nav-files-container > div > .nav-folder:nth-child(11n + 7) {
    --folder-color: rgb(13, 148, 136); /* Teal */
}

.nav-files-container > div > .nav-folder:nth-child(11n + 8) {
    --folder-color: rgb(8, 145, 178); /* Cyan */
}

.nav-files-container > div > .nav-folder:nth-child(11n + 9) {
    --folder-color: rgb(29, 78, 216); /* Blue */
}

.nav-files-container > div > .nav-folder:nth-child(11n + 10) {
    --folder-color: rgb(124, 58, 237); /* Purple */
}

.nav-files-container > div > .nav-folder:nth-child(11n + 11) {
    --folder-color: rgb(147, 51, 234); /* Violet */
}

.nav-files-container > div > .nav-folder:nth-child(11n + 12) {
    --folder-color: hsl(330, 100%, 45%); /* Pink */
}

/*=========================================================================================*/

/* Header Styling */

/* General header styling for source and preview modes */
.cm-s-obsidian .cm-header,
h1, h2, h3, h4, h5, h6 {
  font-weight: 700;
  text-align: center; 
  margin-top: var(--size-4-2); /* ~8px, Obsidian spacing variable */
  letter-spacing: 0.5px;
  overflow: visible; /* Ensures hover indicators are visible */
}

/* Source mode headers (cm-header) */
.cm-s-obsidian .HyperMD-header {
  text-align: center;
}

/* Theme-specific header styling */
.cm-header-1:not(.cm-formatting),
.markdown-preview-view h1 {
  color: var(--text-title-h1); /* Theme-specific h1 color */
  text-shadow: 0 0 4px hsla(var(--accent-h), var(--accent-s), var(--accent-l), 0.3); /* Softer shadow with accent */
  border-bottom: 1px dotted var(--text-title-h1); /* Dotted border matches color */
  padding-bottom: 4px; /* Slightly increased for balance */
}

.cm-header-2:not(.cm-formatting),
.markdown-preview-view h2 {
  color: var(--text-title-h2);
  text-shadow: 0 0 4px hsla(var(--accent-h), var(--accent-s), var(--accent-l), 0.3);
  border-bottom: 1px dotted var(--text-title-h2);
  padding-bottom: 4px;
}

.cm-header-3:not(.cm-formatting),
.markdown-preview-view h3 {
  color: var(--text-title-h3);
  text-shadow: 0 0 4px hsla(var(--accent-h), var(--accent-s), var(--accent-l), 0.3);
  border-bottom: 1px dotted var(--text-title-h3);
  padding-bottom: 4px;
}

.cm-header-4:not(.cm-formatting),
.markdown-preview-view h4 {
  color: var(--text-title-h4);
  text-shadow: 0 0 4px hsla(var(--accent-h), var(--accent-s), var(--accent-l), 0.3);
  border-bottom: 1px dotted var(--text-title-h4);
  padding-bottom: 4px;
}

.cm-header-5:not(.cm-formatting),
.markdown-preview-view h5 {
  color: var(--text-title-h5);
  text-shadow: 0 0 4px hsla(var(--accent-h), var(--accent-s), var(--accent-l), 0.3);
  border-bottom: 1px dotted var(--text-title-h5);
  padding-bottom: 4px;
}

.cm-header-6:not(.cm-formatting),
.markdown-preview-view h6 {
  color: var(--text-title-h6);
  text-shadow: 0 0 4px hsla(var(--accent-h), var(--accent-s), var(--accent-l), 0.3);
  border-bottom: 1px dotted var(--text-title-h6);
  padding-bottom: 4px;
}

/* Hover indicators for preview mode */
.theme-dark .markdown-preview-view h1:hover::before,
.theme-dark .markdown-preview-view h2:hover::before,
.theme-dark .markdown-preview-view h3:hover::before,
.theme-dark .markdown-preview-view h4:hover::before,
.theme-dark .markdown-preview-view h5:hover::before,
.theme-dark .markdown-preview-view h6:hover::before {
  background: var(--background-secondary); /* Matches dark theme secondary background */
  color: var(--text-normal); /* High contrast text */
  border: 1px solid var(--background-modifier-border); /* Theme-specific border */
}

.theme-light .markdown-preview-view h1:hover::before,
.theme-light .markdown-preview-view h2:hover::before,
.theme-light .markdown-preview-view h3:hover::before,
.theme-light .markdown-preview-view h4:hover::before,
.theme-light .markdown-preview-view h5:hover::before,
.theme-light .markdown-preview-view h6:hover::before {
  background: var(--background-secondary); /* Matches light theme secondary background */
  color: var(--text-normal); /* High contrast text */
  border: 1px solid var(--background-modifier-border); /* Theme-specific border */
}

.markdown-preview-view h1:hover::before {
  content: 'H1';
  position: absolute;
  font-size: 0.5rem;
  width: auto;
  margin-left: -24px;
  padding: 0 2px;
  border-radius: var(--radius-xs); /* Obsidian variable, ~2px */
  top: 25px;
}

.markdown-preview-view h2:hover::before {
  content: 'H2';
  position: absolute;
  font-size: 0.5rem;
  margin-left: -25px;
  padding: 0 2px;
  border-radius: var(--radius-xs);
  top: 23px;
}

.markdown-preview-view h3:hover::before {
  content: 'H3';
  position: absolute;
  font-size: 0.45rem;
  margin-left: -25px;
  padding: 0 2px;
  border-radius: var(--radius-xs);
  top: 22px;
}

.markdown-preview-view h4:hover::before {
  content: 'H4';
  position: absolute;
  font-size: 0.4rem;
  margin-left: -25px;
  padding: 0 2px;
  border-radius: var(--radius-xs);
  top: 22px;
}

.markdown-preview-view h5:hover::before {
  content: 'H5';
  position: absolute;
  font-size: 0.4rem;
  margin-left: -25px;
  padding: 0 2px;
  border-radius: var(--radius-xs);
  top: 22px;
}

.markdown-preview-view h6:hover::before {
  content: 'H6';
  position: absolute;
  font-size: 0.4rem;
  margin-left: -25px;
  padding: 0 2px;
  border-radius: var(--radius-xs);
  top: 22px;
}

/*=========================================================================================*/

/* Setting modal */

/* Settings headings*/
.setting-item-heading .setting-item-name,
.vertical-tab-header-group-title {
  text-transform: uppercase;
}

/* Body boarder */
body {
  --modal-border-color: var(--background-modifier-border);
}

/* Settings Icons */

/* Options Icon */
body:not(.setting-item-title-icon-remove):not(.is-phone) .vertical-tab-header-group .vertical-tab-header-group-title {
  display: flex;
  align-items: center;
  color: #0066cc;
}

body:not(.setting-item-title-icon-remove):not(.is-phone) .vertical-tab-header-group:nth-last-of-type(3) .vertical-tab-header-group-title::before {
  content: " ";
  width: 16px;
  height: 16px;
  background-color: #0066cc;
  margin-right: 4px;
  -webkit-mask-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='none' viewBox='0 0 16 16'%3e%3cg clip-path='url(%23a)'%3e%3cpath fill='black' d='m14.476 6.987-1.49-.445a5.177 5.177 0 0 0-.422-1.035l.73-1.365a.27.27 0 0 0-.05-.32l-1.062-1.066a.271.271 0 0 0-.32-.05l-1.355.725a5.165 5.165 0 0 0-1.05-.444l-.444-1.471a.271.271 0 0 0-.262-.183H7.25a.271.271 0 0 0-.258.191l-.444 1.467a5.169 5.169 0 0 0-1.058.445l-1.333-.72a.271.271 0 0 0-.32.048l-1.08 1.054a.271.271 0 0 0-.05.32l.72 1.333a5.169 5.169 0 0 0-.444 1.053l-1.47.445a.271.271 0 0 0-.192.258v1.502a.271.271 0 0 0 .191.258l1.48.444c.11.36.26.708.445 1.036l-.73 1.395a.271.271 0 0 0 .05.32l1.062 1.062a.271.271 0 0 0 .32.05l1.373-.734a5.25 5.25 0 0 0 1.022.418l.445 1.498a.27.27 0 0 0 .258.19h1.502a.271.271 0 0 0 .258-.19l.444-1.503a5.17 5.17 0 0 0 1.013-.417l1.383.737a.27.27 0 0 0 .32-.049l1.062-1.062a.27.27 0 0 0 .049-.32l-.738-1.378a5.17 5.17 0 0 0 .422-1.017l1.498-.445a.271.271 0 0 0 .191-.258V7.25a.271.271 0 0 0-.164-.262ZM8 10.444a2.444 2.444 0 1 1 0-4.888 2.444 2.444 0 0 1 0 4.888Z'/%3e%3c/g%3e%3cdefs%3e%3cclipPath id='a'%3e%3cpath fill='white' d='M0 0h16v16H0z'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e");
}

/* Core Plugins Icon Icon */
body:not(.setting-item-title-icon-remove):not(.is-phone) .vertical-tab-header-group:nth-last-of-type(2) .vertical-tab-header-group-title::before {
  content: " ";
  width: 16px;
  height: 16px;
  background-color: currentColor;
  margin-right: 4px;
  -webkit-mask-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='none' viewBox='0 0 16 16'%3e%3cg clip-path='url(%23a)'%3e%3cpath fill='black' d='M13.249 7.111h-.36V3.924A.889.889 0 0 0 12 3.036H9.333A2.284 2.284 0 0 0 7.338.889a2.222 2.222 0 0 0-2.45 2.147h-3.11a.889.889 0 0 0-.89.888v3.632h1.25A1.391 1.391 0 0 1 3.556 8.75a1.333 1.333 0 0 1-.347 1.027 1.334 1.334 0 0 1-.987.444H.89v3.925a.889.889 0 0 0 .889.889H12a.889.889 0 0 0 .889-.89v-2.59h.444a2.223 2.223 0 0 0 2.223-2.45 2.29 2.29 0 0 0-2.307-1.995Z'/%3e%3c/g%3e%3cdefs%3e%3cclipPath id='a'%3e%3cpath fill='white' d='M0 0h16v16H0z'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e");
}

/* Community Plugins Icon Icon */
body:not(.setting-item-title-icon-remove):not(.is-phone) .vertical-tab-header-group:nth-last-of-type(1) .vertical-tab-header-group-title::before {
  content: " ";
  width: 16px;
  height: 16px;
  background-color: currentColor;
  margin-right: 4px;
  -webkit-mask-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='none' viewBox='0 0 16 16'%3e%3cg fill='black' clip-path='url(%23a)'%3e%3cpath d='M13.249 7.111h-.36v-.267H9.88a1.636 1.636 0 0 1-1.436-2.448l.89-1.467A2.276 2.276 0 0 0 7.337.889a2.222 2.222 0 0 0-2.45 2.147h-3.11a.889.889 0 0 0-.89.888v3.632h1.25A1.391 1.391 0 0 1 3.556 8.75a1.333 1.333 0 0 1-.347 1.027 1.334 1.334 0 0 1-.987.444H.89v3.925a.889.889 0 0 0 .889.889H12a.889.889 0 0 0 .889-.89v-2.59h.444a2.223 2.223 0 0 0 2.223-2.45 2.29 2.29 0 0 0-2.307-1.995Z'/%3e%3cpath d='M11.933.507 9.391 4.889a.569.569 0 0 0 .489.889h5.089a.569.569 0 0 0 .489-.89L12.916.508a.57.57 0 0 0-.983 0Z'/%3e%3c/g%3e%3cdefs%3e%3cclipPath id='a'%3e%3cpath fill='white' d='M0 0h16v16H0z'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e");
}

/* buttons*/
button.mod-cta {
  background-color: var(--accent);
  color: #ffffff;
  font-weight: 600;
}

button.mod-cta:hover, button.mod-cta:focus {
  background-color: var(--interactive-normal);
  color: #000;
  font-weight: 600;
}

/* Side Settings Tab*/
.vertical-tab-nav-item.is-active {
  font-weight: 600;
}

/* Background colors */
/* Main Settings Area color*/
.horizontal-tab-content,
.vertical-tab-content {
  background-color: #05033370;
}

/*=========================================================================================*/

/* ====== status bar====== */

body {
    --status-bar-background: transparent;
    --status-bar-border-color: transparent;
    --status-bar-border-width: 0;
}

.status-bar {
    padding: 0 16px 0 0;
    width: calc(100% - 44px);
    min-height: 16px;
}

.status-bar-item.mod-clickable:hover {
    color: var(--status-bar-text-color);
}

.status-bar-item {
    height: 24px;
}

/*=========================================================================================*/

/* Table styles */

/* Center table headers */
.markdown-rendered th {
  text-align: center;
}

/* Table cells and headers */
.markdown-preview-view th,
.markdown-preview-view td {
  /* Use theme-specific accent for subtle glow effect */
  box-shadow: 0 0 0.2em var(--accent),
              inset 0 0 0.2em var(--accent);
  text-align: center;
  padding: 8px; /* Added for better spacing */
  border: 1px solid var(--background-modifier-border); /* Consistent border */
}

/* Table header background */
.markdown-rendered thead tr {
  /* Use theme-specific h1 color with adjusted opacity */
  background: hsla(var(--text-title-h1-h), var(--text-title-h1-s), var(--text-title-h1-l), 0.7);
}

/* Full-width tables */
body:not(.table-width-obsidian-default) .markdown-source-view.mod-cm6 .cm-table-widget .table-wrapper,
body:not(.table-width-obsidian-default) :is(.markdown-rendered, .markdown-source-view.mod-cm6.is-live-preview) table {
  width: 100% !important;
}

/* Define HSL components for text-title-h1 to support dynamic background */
.theme-dark {
  --text-title-h1-h: 300; /* Derived from #e600e6 */
  --text-title-h1-s: 100%;
  --text-title-h1-l: 45%;
}

.theme-light {
  --text-title-h1-h: 302; /* Derived from #cc00c4 */
  --text-title-h1-s: 100%;
  --text-title-h1-l: 40%;
}

/*=========================================================================================*/

/* divider */
body {
    --workspace-divider-color: var(--text-accent);
}

/* divider vertical height */
.is-hidden-frameless .workspace-split.mod-vertical>*>.workspace-leaf-resize-handle,
.is-hidden-frameless .workspace-split.mod-left-split>.workspace-leaf-resize-handle,
.is-hidden-frameless .workspace-split.mod-right-split>.workspace-leaf-resize-handle {
    height: calc(var(--divider-vertical-height) - var(--header-height) - 2px);
}

/*=========================================================================================*/

/* Pendulum Startup Animation */
body > .progress-bar-container .progress-bar-indicator {
    height: 80px;
    width: 20px;
    color: rgb(8, 145, 178); /* Cyan from rainbow palette for high contrast */
    background: 
        radial-gradient(farthest-side, currentColor 94%, transparent) top / 8px 8px,
        linear-gradient(currentColor 0 0) top / 4px 70%,
        conic-gradient(from -30deg at bottom, transparent, currentColor 2deg 58deg, transparent 60deg) bottom / 100% 20px,
        conic-gradient(from 150deg at top, transparent, currentColor 2deg 58deg, transparent 60deg) bottom 20px left 0 / 100% 20px;
    background-repeat: no-repeat;
    transform-origin: 50% 4px;
    animation: pendulum 2s infinite ease-in-out;
}

body > .progress-bar-container .progress-bar-indicator > * {
    display: none;
}

@keyframes pendulum {
    0% {
        transform: rotate(-15deg);
    }
    50% {
        transform: rotate(15deg);
    }
    100% {
        transform: rotate(-15deg);
    }
}

/*=========================================================================================*/

/* Tooltip Styling */
.tooltip {
  background-color: hsla(var(--accent-h), var(--accent-s), var(--accent-l), 0.95); /* Theme-specific accent, high opacity for solidity */
  color: var(--text-normal); /* Ensures high contrast text */
  word-wrap: break-word; /* Unchanged, allows text wrapping */
  padding: var(--size-2-3); /* Consistent padding using theme variable */
  font-size: var(--font-ui-small); /* Smaller font for tooltips, matches Obsidian defaults */
  border-radius: 4px; /* Subtle rounding for polish */
}

/* Tooltip arrow for right-aligned tooltips */
.tooltip.mod-right .tooltip-arrow {
  border-right: 5px solid hsla(var(--accent-h), var(--accent-s), var(--accent-l), 0.95);
}

/* Navigation Header Styling */
.nav-header {
  padding: var(--size-2-3) var(--size-2-3) var(--size-2-1); /* Unchanged, uses Obsidian spacing variables */
  background: var(--background-secondary); /* Theme-specific secondary background */
  color: var(--text-normal); /* High contrast text */
  font-weight: 600; /* Slightly bolder for hierarchy */
}

/*=========================================================================================*/

/* Title Styling */

/* Inline title (note title in editor) */
.inline-title {
  text-align: center; /* Unchanged, centers the title */
  color: var(--text-normal); /* #e6e6e6 dark, #1a1a1a light */
  font-family: var(--default-font); /* Times New Roman, Times, serif */
  font-size: 24px; /* Matches typical h1 size for prominence */
  font-weight: 600; /* Bold to align with headers and UI elements */
  padding: 8px 0; /* Adds vertical spacing for balance */
  margin: 0; /* Removes default margins to prevent layout shifts */
}

/* Ensure title contrast in both themes */
.theme-dark .inline-title {
  color: var(--text-normal); /* #e6e6e6 for high contrast */
}

.theme-light .inline-title {
  color: var(--text-normal); /* #1a1a1a for high contrast */
}

/*=========================================================================================*/

/* Numbered Lists */
body {
    --accent: rgb(8, 145, 178); /* Cyan from rainbow palette */
}

@font-face {
    font-family: Times;
    src: url(data:application/octet-stream;base64,d09GMgABAAAAADbQAA8AAAACGYgAADZyAAIZmQAAAAAAAAAAAAAAAAAAAAAAAAAAHIt0BmAAhSIIDgmcDBEICoeASIXmegE2AiQDkiYLiRYABCAFizAH2SAMgRxbHcdxJ9rZPaoJDGonVLXRO3smfELmNaFzd6NRUROqLyjbdlEi0G2gLyDnLWi48P///5+UdIzhAB2KqPW/egodraGDCI5wdBeOpJzhYg3f3dtxtg8DFNvhypemgW+9P+WMildgmmZ98zpBGyUlJSlcuh6FLvWq1+WtH1pahtaKH+KRyy/+FZZp4gMv9YbxBdWL2ga1QLh28KFMdAxMudBlx+3iJ/1umlNlmlNzK5V+Djzyro8qhZ8Daenlw/5maq1C13ebU0xD6ln+VdfeIpGIcsPOEtu6+a/kacBx/R8m7iahZbExy0M+mxWe//ev+n3OvY8tjl/L1XK1MSCi+QIigJmDyIgY/VU1sE1VSn9pzwGboTbEhuqYePzAnNsQi14Dqb91GmS6tZnIfX5R0DGYZ4RRA7RNOpTQBiPJOEA4SicCehb0REU2nQIP0zGsPdrvon+u0rnocF266FCzbHfgnGDirKFb20xpmn3/4Pn/nff1OyfCBAILI53ohj61bXOpubImhIh1O3bGRB1jUOcrx8qQ/976BVALWGFpcSOAARyM3MLTa+ZyUUEWYcSQ72kJyTZL0iXIh0kaosQtLmoX9XbV15IHzml+sWX1B90ddw2MnGqBMTDvb2nYPGwOqdjJTCWQXZnxePdS8Zlxv+3vROVEhY4QMMt0EjH/E9LNCL1tbouKkJaQwp2Np4empCvxoXl/L09qZU5lDbwRXwjADlS0WgyWnnmt5B+fVe1QR/zXTe/PzuHRCSZy8AwiSJoJ0MJAJIJANP/7aa/0nifJFdnpsCnpMNx1gwNwCFldSfv3vSc5lvR7V8ruutUt+i6l4LRGW2nMBGd4Y6FBwGEdBpIQHgBRAA68vgspAMhSeFuTUmJn9NW3nWQIpDrWfkQswRZDEC2/n93pPZL7CHdOImV3zcyFWdJbUogKo3D2G49QKJQF2sseFUbPyR1Qkjbrl/bhpuZBgA+Ms5n39kuhtz7kmojp6+qEJdDUAuoG1A0nHGD4OHwoa1WFZYvhPRQkKdisGP8UDmr+7JIIo2q2UAOvtmdKodV3it7GS+4gSEs7QwBVOHAMXKm7mTrvFcUOYE0UGrb+b3P1fgwyI6J9CDWG0ANqoE9nSz1tv1z2OI2nj5ppve9b2x2WZhZYiwoRns4hCNwGeL5RNWaOjmq6mEEZEva7XUOAfQKavDHX1kzsfj+tK3+1qUlgZoBoSnNz44CgMdv6170lqMbUZ17I8AWQC+RxC5drOa9f2JYDC2XO+AoTMAu5O3g+dXpdM4wscQgKkuJvF3EFfAULdduBZaiYpKk4Zj8cGLWYyj4czMC3lS7Jqr4YAUJ6POxheHR6mfRju8+dIGIBkkkcUCyuyZNgcPDwjx0+uJsmfdtxxVgjfTU8m5is+dnMhv1tgMAqq3ZzZwnJtlIxC0dEvcyB7WHjre90CvGNrHSM95IJOmSburpJ1+j/Hsi3WrFK9Vp0iTPKtNShckjqUTksw1A5Iv9F5aj4UTkmDagcl0ZUTkgTKielGZVT0oKKwSEEAAgCQ0xMzczTBRQGRyBRaAw25fAEIolMoVrSUp3BZLE5XJ4VPw2EIrFEKpMrlGml1mh1egNFOwdn6uLm4eXjFxAUEk4jomLiEpJS0jKyaU5eQVFJWUVVjWb0j9QsNfIzGE1mimZYTmux8ja7w+lye7w+PwAIAkOgMDgCiUJjsDg8gUgiU6g0OoPJYnO4PL5AKBJLpDK5QqlSa7Q6vcFoMlusNrtDXv88F3AhF3Exl3CpiamZuQUUBkcgUWgMFocnEElkCtU9fxmh/GnEPTQ6g8lic7g8vx7jC4QisUQqkyuUKrVGq9MbrI02tnb2Do5Ozi6ubmAIFAZHIFFoDBaHJxBJZAqVRmcwWWwOl8cXCEViiVQmVyiNTUzNzC0sVWqNVqc3WFnb2NrZOzg6OQsiomJQRA5JLezVNTt9ZWN+klt5xtfrdRMwNXlg2UFjcMDK9SNkAIL/vxZekzjRn9SfEydavSVqPyQf6hM+lIb0tlrkP650NYMY59zI530Bv4Y5BGEloxvpm5BDUilVMkS8MlR8Ui01f3B2oETH0S8fDgED+9MRozFapVpjWztoT06keaYslmfcUS5icYnU67STR411p3nSvBNFR8VF5cUu46vsDENkFN/PySRNX3hsns+f5cnvkpp0gC+S1imJlxMPJa773ocPvosiDXy+nKIvXQ81MFunGo5ToR1+Hv3DvAAEHtLURJ79Y+TmGe7dx0TLPJUveU/69c+ol/++9Elrqd+d9/AC1MmACnMMCIjSXkChXn3AQLqfZurQShyTQ8k5Vp0ax1rWSZRv94VUQzkuHfZ6f9CODuZIUfuENysf0ovVvROylmkccnQy+XQK1+mHDfnakQDZMhPJY+L8C8r3HT6sk074gMdWH4dKHeZ0OcU9SB7jtvsp5Utcvykwzx2euIzp2Lul48WkwkDpqIz4+/m0iKmYK31QInvSX58tCmUOqMhWhXuijdreXDYzhzqpXMJtgjNCOG7RkVhbufas/MuUpcur/HOkadYVQ6JZQWRfI/nUaAEHMhWsl07wuEh4FvEtOu8NSQG3/HmmOFm9ZhQyHz9wx+H1rx7SdImz6gWf0kd/L2issW7HVq9TXriya0nNmxC/S0h0VfIze6aABwKOBjraTv5HCiyqgMWCNveQFpLwVgMBJP210rn8Z6UpjIPEk3kkeYKeL8QQjAin8bLvJUqp7q0glfXVJSoQ61mmfUmW7vxj5mt0O9E88TNcDuNaJhF3Js1fROkdUBdTOuf4lf1MG5LOg0XyTr1d9oEMVO04YF+eBDKBJBEy+PRAR5u0aGTu41Zndo+yEjLP);
}

ol {
    list-style: none;
    counter-reset: li;
}

ol > li {
    counter-increment: li;
    transition: color 0.2s ease-in-out;
}

ol > li:hover {
    color: rgba(8, 145, 178, 0.8); /* Slightly faded cyan on hover */
}

ol li:not(.task-list-item)::before {
    content: counter(li) ".";
    color: var(--accent);
    font-family: Times, serif;
    display: inline-block;
    margin-left: -2.5em;
    margin-right: 0.5em;
    width: 2em;
    text-align: right;
    text-shadow: 0 0 0.3em var(--accent); /* Reduced blur for clarity */
}

/*=========================================================================================*/

/* Lists */
body {
    --list-indent: 2em;
    --list-spacing: 0.075em;
    --list-bullet-size: 0.3em;
    --list-bullet-size-alt: calc(var(--list-bullet-size) / 2);
    --list-marker-color: rgb(33, 33, 33); /* Dark gray for default contrast */
    --list-numbered-style: decimal;
}

/* Common list bullet styles */
body:not(.ul-marker-restore) .markdown-rendered .has-list-bullet .list-bullet::after,
body:not(.ul-marker-restore) .markdown-source-view.mod-cm6 .HyperMD-list-line.cm-line div.cm-fold-indicator~span.cm-formatting .list-bullet::after,
body:not(.ul-marker-restore) .markdown-source-view.mod-cm6 .HyperMD-list-line.cm-line span.cm-hmd-list-indent~span.cm-formatting .list-bullet::after,
body:not(.ul-marker-restore) .markdown-source-view.mod-cm6 .HyperMD-list-line.cm-line>span.cm-formatting:first-of-type .list-bullet::after {
    width: var(--list-bullet-size);
    height: var(--list-bullet-size);
    background-color: var(--list-marker-color);
}

/* Level 1: Circle */
body:not(.ul-marker-restore) .markdown-rendered .has-list-bullet .list-bullet::after,
body:not(.ul-marker-restore) .markdown-source-view.mod-cm6 .HyperMD-list-line.HyperMD-list-line-1.cm-line div.cm-fold-indicator~span.cm-formatting .list-bullet::after,
body:not(.ul-marker-restore) .markdown-source-view.mod-cm6 .HyperMD-list-line.HyperMD-list-line-1.cm-line>span.cm-formatting:first-of-type .list-bullet::after {
    --list-marker-color: rgb(8, 145, 178); /* Cyan from rainbow palette */
    --list-bullet-radius: 50%;
}

/* Level 2: Square */
body:not(.ul-marker-restore) .markdown-rendered .has-list-bullet .has-list-bullet .list-bullet::after,
body:not(.ul-marker-restore) .markdown-source-view.mod-cm6 .HyperMD-list-line.HyperMD-list-line-2.cm-line div.cm-fold-indicator~span.cm-formatting .list-bullet::after,
body:not(.ul-marker-restore) .markdown-source-view.mod-cm6 .HyperMD-list-line.HyperMD-list-line-2.cm-line span.cm-hmd-list-indent~span.cm-formatting .list-bullet::after {
    --list-marker-color: rgb(124, 58, 237); /* Purple from rainbow palette */
    --list-bullet-radius: 0;
}

/* Level 3: Rotated Square */
body:not(.ul-marker-restore) .markdown-rendered .has-list-bullet .has-list-bullet .has-list-bullet .list-bullet::after,
body:not(.ul-marker-restore) .markdown-source-view.mod-cm6 .HyperMD-list-line.HyperMD-list-line-3.cm-line div.cm-fold-indicator~span.cm-formatting .list-bullet::after,
body:not(.ul-marker-restore) .markdown-source-view.mod-cm6 .HyperMD-list-line.HyperMD-list-line-3.cm-line span.cm-hmd-list-indent~span.cm-formatting .list-bullet::after {
    --list-marker-color: rgb(220, 38, 38); /* Red from rainbow palette */
    --list-bullet-radius: 0;
    --list-bullet-transform: rotate(45deg);
}

/*=========================================================================================*/

/* img hover zoom out img*/
img:hover {
  transform: scale(1.04);
  transition: transform 0.25s ease-in-out 0s;
}
.community-theme img:hover {
  transform: none;
}

/*=========================================================================================*/

/* Live Preview Line Numbers */

.theme-dark .markdown-source-view.mod-cm6 .cm-gutters {
  color: #00ffff !important; /* Matches accent text (#00e6e6) for dark theme */
  background: var(--background-primary); /* Matches editor background (#1c1c2e) */
}

.theme-light .markdown-source-view.mod-cm6 .cm-gutters {
  color: #00ffff !important; /* Matches accent text (#00b7eb) for light theme */
  background: var(--background-primary); /* Matches editor background (#f5f5f5) */
}

/*=========================================================================================*/

/* Graph View Styling for Both Themes */

/* Circle and line highlight (selected nodes/lines) */
.graph-view.color-circle,
.graph-view.color-line-highlight {
  color: var(--background-secondary-alt); 
  border: 0; 
}

/* Circle when hovered */
.graph-view.color-fill-highlight {
  color: var(--background-secondary-alt); /* Matches h3 color (#ff8c00 dark/light) */
}

/* Node text */
.graph-view.color-text {
  color: var(--text-normal); /* Matches h6 color (#cccc00 dark/light) */
}

/* Lines connecting nodes */
.graph-view.color-line {
  color: var(--text-faint); /* Matches faint text (#8a8a8a dark, #999999 light) */
}

/* Circle when not hovered */
.graph-view.color-fill {
  color: var(--text-accent); /* Matches accent text (#00e6e6 dark, #00b7eb light) */
}

/* Arrows */
.graph-view.color-arrow {
  color: var(--text-title-h2); /* Matches h5 color (#e60000 dark, #cc0000 light) */
}

/* Tags */
.graph-view.color-fill-tag {
  color: var(--text-title-h3); /* Matches h3 color (#ff8c00 dark/light) */
}

/* Attachments */
.graph-view.color-fill-attachment {
  color: var(--text-title-h1); /* Matches h1 color (#e600e6 dark, #cc00c4 light) */
}

/* Unresolved links */
.graph-view.color-fill-unresolved {
  color: var(--text-faint); /* Matches faint text (#8a8a8a dark, #999999 light) */
  opacity: 0.7; /* Unchanged, subtle fade */
}
/* Node hover effects */
.graph-view .node:hover {
  transform: scale(1.1);
}


/* Graph view background */
.theme-dark .workspace-leaf-content[data-type=graph] .view-content {
  background-color: var(--background-primary); /* Matches dark theme background (#1c1c2e) */
}

.theme-light .workspace-leaf-content[data-type=graph] .view-content {
  background-color: var(--background-primary-alt); /* Matches light theme alt background (#e6e6e6) */
}

/*=========================================================================================*/

/* Empty State */
body {
    --empty-state-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='20' height='20' fill='none' viewBox='0 0 20 20'%3e%3cpath fill='black' d='M13.32 7.155a4.375 4.375 0 0 1-5.7 6.517l5.7-6.517ZM10 5.625a4.375 4.375 0 0 0-3.32 7.22l5.704-6.514A4.35 4.35 0 0 0 10 5.625ZM18.125 10A8.125 8.125 0 1 1 10 1.875 8.135 8.135 0 0 1 18.125 10Zm-2.5 0a5.6 5.6 0 0 0-1.476-3.793l.382-.483a.626.626 0 1 0-.937-.823l-.384.483a5.625 5.625 0 0 0-7.36 8.409l-.381.483a.625.625 0 0 0 .937.823l.384-.483A5.621 5.621 0 0 0 15.625 10Z'/%3e%3c/svg%3e");
}

/* Empty State Layout */
.tag-pane-empty,
.bookmarks-pane-empty,
.pane-empty,
.search-empty-state {
    display: flex;
    align-items: center;
    justify-content: center;
    flex-direction: column;
    gap: 8px;
}

/* Empty State Icon */
.tag-pane-empty::before,
.bookmarks-pane-empty::before,
.pane-empty::before,
.search-empty-state::before {
    content: "";
    display: inline-block;
    width: 48px;
    height: 48px;
    background-color: var(--icon-color); /* Cyan from rainbow palette */
    -webkit-mask-size: contain;
    -webkit-mask-position: center;
    -webkit-mask-repeat: no-repeat;
    -webkit-mask-image: var(--empty-state-image);
    animation: pulse 2s infinite ease-in-out;
}

/* Pulse Animation for Empty State Icon */
@keyframes pulse {
    0%, 100% {
        transform: scale(1);
        opacity: 0.8;
    }
    50% {
        transform: scale(1.1);
        opacity: 1;
    }
}

/*=========================================================================================*/

/* Editor Styling */

/* Inline title styling */
body:not(.is-phone):not(.inline-title-divider-remove) .inline-title:not(.mk-inline-title) {
  border-bottom: 1px solid var(--background-modifier-border); /* Theme-specific border (#4a4a6a dark, #b3b3b3 light) */
  padding-bottom: var(--size-4-3); /* ~12px, Obsidian spacing variable */
  margin-bottom: var(--size-4-3);
}

/* Heading collapse indicator positioning */
body:not(.heading-indicator-off) .markdown-preview-view .heading-collapse-indicator {
  transform: translateX(-16px); /* Unchanged, shifts indicator left */
}

body:not(.heading-indicator-off) .is-live-preview .HyperMD-header .collapse-indicator.collapse-icon {
  transform: translateX(-8px); /* Unchanged, shifts indicator in source mode */
}

/* Header text indent for indicators */
body:not(.heading-indicator-off) .markdown-rendered > :is(h1, h2, h3, h4, h5, h6),
body:not(.heading-indicator-off) .markdown-preview-sizer > div > :is(h1, h2, h3, h4, h5, h6) {
  text-indent: 9px; /* Unchanged, accommodates indicator */
}

/* Print-specific header styling */
@media print {
  :is(h1, h2, h3, h4, h5, h6) {
    position: relative; /* Unchanged, ensures positioning context */
  }

  body:not(.heading-indicator-off) :is(h1, h2, h3, h4, h5, h6) {
    text-indent: 9px; /* Unchanged, consistent with editor */
  }
}

/* Header-specific styling (h1–h6) */
:is(h1, .markdown-rendered h1, .HyperMD-header-1, .inline-title[data-level='1'], .HyperMD-list-line .cm-header-1) {
  text-transform: var(--h1-text-transform, none); /* Fallback to none if undefined */
}

:is(h2, .markdown-rendered h2, .HyperMD-header-2, .inline-title[data-level='2'], .HyperMD-list-line .cm-header-2) {
  text-transform: var(--h2-text-transform, none);
}

:is(h3, .markdown-rendered h3, .HyperMD-header-3, .inline-title[data-level='3'], .HyperMD-list-line .cm-header-3) {
  text-transform: var(--h3-text-transform, none);
}

:is(h4, .markdown-rendered h4, .HyperMD-header-4, .inline-title[data-level='4'], .HyperMD-list-line .cm-header-4) {
  text-transform: var(--h4-text-transform, none);
}

:is(h5, .markdown-rendered h5, .HyperMD-header-5, .inline-title[data-level='5'], .HyperMD-list-line .cm-header-5) {
  text-transform: var(--h5-text-transform, none);
}

:is(h6, .markdown-rendered h6, .HyperMD-header-6, .inline-title[data-level='6'], .HyperMD-list-line .cm-header-6) {
  text-transform: var(--h6-text-transform, none);
}

/* Designated header colors */
.h1-color-designated { --h1-color: var(--text-title-h1) !important; } /* #e600e6 dark, #cc00c4 light */
.h2-color-designated { --h2-color: var(--text-title-h2) !important; } /* #00e6e6 dark, #00b7eb light */
.h3-color-designated { --h3-color: var(--text-title-h3) !important; } /* #ff8c00 dark/light */
.h4-color-designated { --h4-color: var(--text-title-h4) !important; } /* #3333ff dark, #0000cc light */
.h5-color-designated { --h5-color: var(--text-title-h5) !important; } /* #e60000 dark, #cc0000 light */
.h6-color-designated { --h6-color: var(--text-title-h6) !important; } /* #cccc00 dark/light */

/* Collapse indicator SVGs and colors */
body:not(.collapse-icon-restore) .is-live-preview .HyperMD-header .collapse-indicator.collapse-icon svg,
body:not(.collapse-icon-restore) :is(.markdown-rendered, .markdown-preview-view) :is(h1, h2, h3, h4, h5, h6) .collapse-indicator.collapse-icon svg {
  transform: translateX(0px);
  background-color: currentColor; /* Inherits header color */
}

/* Theme-specific collapse indicator colors for collapsed state */
.theme-dark body:not(.collapse-icon-restore) .is-live-preview :is(.HyperMD-header-1.is-collapsed, .HyperMD-header-2.is-collapsed, .HyperMD-header-3.is-collapsed, .HyperMD-header-4.is-collapsed, .HyperMD-header-5.is-collapsed, .HyperMD-header-6.is-collapsed) .collapse-indicator.collapse-icon svg,
.theme-dark body:not(.collapse-icon-restore) :is(.markdown-rendered, .markdown-preview-view) .is-collapsed :is(h1, h2, h3, h4, h5, h6) .collapse-indicator.collapse-icon svg {
  background-color: var(--text-title-h1); /* Use h1 color (#e600e6) for all collapsed indicators */
  color: var(--text-title-h1);
}

.theme-light body:not(.collapse-icon-restore) .is-live-preview :is(.HyperMD-header-1.is-collapsed, .HyperMD-header-2.is-collapsed, .HyperMD-header-3.is-collapsed, .HyperMD-header-4.is-collapsed, .HyperMD-header-5.is-collapsed, .HyperMD-header-6.is-collapsed) .collapse-indicator.collapse-icon svg,
.theme-light body:not(.collapse-icon-restore) :is(.markdown-rendered, .markdown-preview-view) .is-collapsed :is(h1, h2, h3, h4, h5, h6) .collapse-indicator.collapse-icon svg {
  background-color: var(--text-title-h1); /* Use h1 color (#cc00c4) for all collapsed indicators */
}

/* SVG icons for collapse indicators (unchanged) */
body:not(.collapse-icon-restore) .is-live-preview .HyperMD-header-1 .collapse-indicator.collapse-icon svg,
body:not(.collapse-icon-restore) :is(.markdown-rendered, .markdown-preview-view) h1 .collapse-indicator.collapse-icon svg {
  -webkit-mask-image: url('data:image/svg+xml;utf8,<?xml version="1.0" encoding="UTF-8"?><svg id="svg0" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10 10"><defs><style>.cls-1{fill:none;}</style></defs><rect class="cls-1" width="10" height="10"/><path d="M0,1H1.18v3.43H3.53V1h1.18V9h-1.18v-3.43H1.18v3.43H0V1ZM6.47,9v-1.14h1.18V2.32l-1.47,.82V1.82l1.47-.82h1.18V7.86h1.18v1.14h-3.53Z"/></svg>');
}

body:not(.collapse-icon-restore) .is-live-preview .HyperMD-header-2 .collapse-indicator.collapse-icon svg,
body:not(.collapse-icon-restore) :is(.markdown-rendered, .markdown-preview-view) h2 .collapse-indicator.collapse-icon svg {
  -webkit-mask-image: url('data:image/svg+xml;utf8,<?xml version="1.0" encoding="UTF-8"?><svg id="svg0" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10 10"><defs><style>.cls-1{fill:none;}</style></defs><rect class="cls-1" width="10" height="10"/><path d="M0,1H1.11v3.43H3.33V1h1.11V9h-1.11v-3.43H1.11v3.43H0V1ZM10,9h-3.33c-.29,0-.58-.12-.79-.33-.21-.21-.33-.51-.33-.81s.11-.57,.3-.78l2.71-2.99c.21-.21,.33-.49,.33-.81s-.12-.59-.33-.81c-.21-.21-.49-.33-.79-.33s-.58,.12-.79,.33c-.21,.21-.33,.51-.33,.81h-1.11c0-.61,.23-1.19,.65-1.62,.42-.43,.98-.67,1.57-.67s1.15,.24,1.57,.67c.42,.43,.65,1.01,.65,1.62s-.25,1.2-.65,1.62l-2.68,2.95h3.33v1.14Z"/></svg>');
}

body:not(.collapse-icon-restore) .is-live-preview .HyperMD-header-3 .collapse-indicator.collapse-icon svg,
body:not(.collapse-icon-restore) :is(.markdown-rendered, .markdown-preview-view) h3 .collapse-indicator.collapse-icon svg {
  -webkit-mask-image: url('data:image/svg+xml;utf8,<?xml version="1.0" encoding="UTF-8"?><svg id="svg0" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10 10"><defs><style>.cls-1{fill:none;}</style></defs><rect class="cls-1" width="10" height="10"/><path d="M0,1H1.11v3.43H3.33V1h1.11V9h-1.11v-3.43H1.11v3.43H0V1Zm6.67,0h2.22c.29,0,.58,.12,.79,.33,.21,.21,.33,.51,.33,.81V7.86c0,.3-.12,.59-.33,.81-.21,.21-.49,.33-.79,.33h-2.22c-.29,0-.58-.12-.79-.33-.21-.21-.33-.51-.33-.81v-.57h1.11v.57h2.22v-2.29h-2.22v-1.14h2.22V2.14h-2.22v.57h-1.11v-.57c0-.3,.12-.59,.33-.81,.21-.21,.49-.33,.79-.33Z"/></svg>');
}

body:not(.collapse-icon-restore) .is-live-preview .HyperMD-header-4 .collapse-indicator.collapse-icon svg,
body:not(.collapse-icon-restore) :is(.markdown-rendered, .markdown-preview-view) h4 .collapse-indicator.collapse-icon svg {
  -webkit-mask-image: url('data:image/svg+xml;utf8,<?xml version="1.0" encoding="UTF-8"?><svg id="svg0" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10 10"><defs><style>.cls-1{fill:none;}</style></defs><rect class="cls-1" width="10" height="10"/><path d="M0,1H1.11v3.43H3.33V1h1.11V9h-1.11v-3.43H1.11v3.43H0V1ZM8.33,9v-2.86h-2.78v-1.14L8.33,1h1.11V5h.56v1.14h-.56v2.86h-1.11Zm0-4V2.95l-1.42,2.05h1.42Z"/></svg>');
}

body:not(.collapse-icon-restore) .is-live-preview .HyperMD-header-5 .collapse-indicator.collapse-icon svg,
body:not(.collapse-icon-restore) :is(.markdown-rendered, .markdown-preview-view) h5 .collapse-indicator.collapse-icon svg {
  -webkit-mask-image: url('data:image/svg+xml;utf8,<?xml version="1.0" encoding="UTF-8"?><svg id="svg0" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10 10"><defs><style>.cls-1{fill:none;}</style></defs><rect class="cls-1" width="10" height="10"/><path d="M0,1H1.11v3.43H3.33V1h1.11V9h-1.11v-3.43H1.11v3.43H0V1Zm6.67,0h2.78v1.14h-2.78v2.29h1.11c.59,0,1.15,.24,1.57,.67,.42,.43,.65,1.01,.65,1.62s-.23,1.19-.65,1.62c-.42,.43-.98,.67-1.57,.67h-1.11c-.29,0-.58-.12-.79-.33-.21-.21-.33-.51-.33-.81v-.57h1.11v.57h1.11c.29,0,.58-.12,.79-.33,.21-.21,.33-.51,.33-.81s-.12-.59-.33-.81c-.21-.21-.49-.33-.79-.33h-1.11c-.29,0-.58-.12-.79-.33-.21-.21-.33-.51-.33-.81V2.14c0-.3,.12-.59,.33-.81,.21-.21,.49-.33,.79-.33Z"/></svg>');
}

body:not(.collapse-icon-restore) .is-live-preview .HyperMD-header-6 .collapse-indicator.collapse-icon svg,
body:not(.collapse-icon-restore) :is(.markdown-rendered, .markdown-preview-view) h6 .collapse-indicator.collapse-icon svg {
  -webkit-mask-image: url('data:image/svg+xml;utf8,<?xml version="1.0" encoding="UTF-8"?><svg id="svg0" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10 10"><defs><style>.cls-1{fill:none;}</style></defs><rect class="cls-1" width="10" height="10"/><path d="M0,1H1.11v3.43H3.33V1h1.11V9h-1.11v-3.43H1.11v3.43H0V1Zm6.67,0h2.22c.29,0,.58,.12,.79,.33,.21,.21,.33,.51,.33,.81v.57h-1.11v-.57h-2.22v2.29h2.22c.29,0,.58,.12,.79,.33,.21,.21,.33,.51,.33,.81v2.29c0,.3-.12,.59-.33,.81-.21,.21-.49,.33-.79,.33h-2.22c-.29,0-.58-.12-.79-.33-.21-.21-.33-.51-.33-.81V2.14c0-.3,.12-.59,.33-.81,.21-.21,.49-.33,.79-.33Zm0,4.57v2.29h2.22v-2.29h-2.22Z"/></svg>');
}

/* Header indicators (colored bars) */
body:not(.heading-indicator-off) .is-live-preview :is(.HyperMD-header-1, .HyperMD-header-2, .HyperMD-header-3, .HyperMD-header-4, .HyperMD-header-5, .HyperMD-header-6)::before {
  margin-right: 6px;
  content: " ";
  display: inline-block;
  width: 3px;
  height: calc(1.2em - 8px); /* Unified height for consistency */
  border-radius: var(--radius-m); /* ~4px, Obsidian variable */
  transform: translateY(4px);
}

body:not(.heading-indicator-off) .markdown-rendered > :is(h1, h2, h3, h4, h5, h6)::before,
body:not(.heading-indicator-off) .markdown-preview-sizer > div > :is(h1, h2, h3, h4, h5, h6)::before {
  margin-right: 6px;
  content: " ";
  display: inline-block;
  width: 3px;
  height: calc(1.2em - 8px);
  border-radius: var(--radius-m);
  position: absolute;
  top: 4px;
  left: 0px;
}

/* Theme-specific indicator colors */
.theme-dark body:not(.heading-indicator-off) .is-live-preview .HyperMD-header-1::before,
.theme-dark body:not(.heading-indicator-off) .markdown-rendered > h1::before,
.theme-dark body:not(.heading-indicator-off) .markdown-preview-sizer > div > h1::before {
  background-color: var(--text-title-h1); /* #e600e6 */
}

.theme-dark body:not(.heading-indicator-off) .is-live-preview .HyperMD-header-2::before,
.theme-dark body:not(.heading-indicator-off) .markdown-rendered > h2::before,
.theme-dark body:not(.heading-indicator-off) .markdown-preview-sizer > div > h2::before {
  background-color: var(--text-title-h2); /* #00e6e6 */
}

.theme-dark body:not(.heading-indicator-off) .is-live-preview .HyperMD-header-3::before,
.theme-dark body:not(.heading-indicator-off) .markdown-rendered > h3::before,
.theme-dark body:not(.heading-indicator-off) .markdown-preview-sizer > div > h3::before {
  background-color: var(--text-title-h3); /* #ff8c00 */
}

.theme-dark body:not(.heading-indicator-off) .is-live-preview .HyperMD-header-4::before,
.theme-dark body:not(.heading-indicator-off) .markdown-rendered > h4::before,
.theme-dark body:not(.heading-indicator-off) .markdown-preview-sizer > div > h4::before {
  background-color: var(--text-title-h4); /* #3333ff */
}

.theme-dark body:not(.heading-indicator-off) .is-live-preview .HyperMD-header-5::before,
.theme-dark body:not(.heading-indicator-off) .markdown-rendered > h5::before,
.theme-dark body:not(.heading-indicator-off) .markdown-preview-sizer > div > h5::before {
  background-color: var(--text-title-h5); /* #e60000 */
}

.theme-dark body:not(.heading-indicator-off) .is-live-preview .HyperMD-header-6::before,
.theme-dark body:not(.heading-indicator-off) .markdown-rendered > h6::before,
.theme-dark body:not(.heading-indicator-off) .markdown-preview-sizer > div > h6::before {
  background-color: var(--text-title-h6); /* #cccc00 */
}

.theme-light body:not(.heading-indicator-off) .is-live-preview .HyperMD-header-1::before,
.theme-light body:not(.heading-indicator-off) .markdown-rendered > h1::before,
.theme-light body:not(.heading-indicator-off) .markdown-preview-sizer > div > h1::before {
  background-color: var(--text-title-h1); /* #cc00c4 */
}

.theme-light body:not(.heading-indicator-off) .is-live-preview .HyperMD-header-2::before,
.theme-light body:not(.heading-indicator-off) .markdown-rendered > h2::before,
.theme-light body:not(.heading-indicator-off) .markdown-preview-sizer > div > h2::before {
  background-color: var(--text-title-h2); /* #00b7eb */
}

.theme-light body:not(.heading-indicator-off) .is-live-preview .HyperMD-header-3::before,
.theme-light body:not(.heading-indicator-off) .markdown-rendered > h3::before,
.theme-light body:not(.heading-indicator-off) .markdown-preview-sizer > div > h3::before {
  background-color: var(--text-title-h3); /* #ff8c00 */
}

.theme-light body:not(.heading-indicator-off) .is-live-preview .HyperMD-header-4::before,
.theme-light body:not(.heading-indicator-off) .markdown-rendered > h4::before,
.theme-light body:not(.heading-indicator-off) .markdown-preview-sizer > div > h4::before {
  background-color: var(--text-title-h4); /* #0000cc */
}

.theme-light body:not(.heading-indicator-off) .is-live-preview .HyperMD-header-5::before,
.theme-light body:not(.heading-indicator-off) .markdown-rendered > h5::before,
.theme-light body:not(.heading-indicator-off) .markdown-preview-sizer > div > h5::before {
  background-color: var(--text-title-h5); /* #cc0000 */
}

.theme-light body:not(.heading-indicator-off) .is-live-preview .HyperMD-header-6::before,
.theme-light body:not(.heading-indicator-off) .markdown-rendered > h6::before,
.theme-light body:not(.heading-indicator-off) .markdown-preview-sizer > div > h6::before {
  background-color: var(--text-title-h6); /* #cccc00 */
}

/* Header dividers */
body:is(.h2-divider-on, .h3-divider-on, .h4-divider-on, .h5-divider-on, .h6-divider-on) :is(.markdown-rendered, .markdown-preview-sizer > div, .is-live-preview) :is(h2, h3, h4, h5, h6)::after {
  content: "";
  position: absolute;
  height: 1px;
  width: 100%;
  right: 0;
  opacity: 0.5;
  bottom: 0;
}

/* Theme-specific divider colors */
.theme-dark body.h2-divider-on :is(.markdown-rendered > h2, .markdown-preview-sizer > div > h2, .HyperMD-header-2)::after {
  background-image: linear-gradient(to left, var(--text-title-h2) 30%, transparent 70%); /* #00e6e6 */
}

.theme-dark body.h3-divider-on :is(.markdown-rendered > h3, .markdown-preview-sizer > div > h3, .HyperMD-header-3)::after {
  background-image: linear-gradient(to left, var(--text-title-h3) 30%, transparent 70%); /* #ff8c00 */
}

.theme-dark body.h4-divider-on :is(.markdown-rendered > h4, .markdown-preview-sizer > div > h4, .HyperMD-header-4)::after {
  background-image: linear-gradient(to left, var(--text-title-h4) 30%, transparent 70%); /* #3333ff */
}

.theme-dark body.h5-divider-on :is(.markdown-rendered > h5, .markdown-preview-sizer > div > h5, .HyperMD-header-5)::after {
  background-image: linear-gradient(to left, var(--text-title-h5) 30%, transparent 70%); /* #e60000 */
}

.theme-dark body.h6-divider-on :is(.markdown-rendered > h6, .markdown-preview-sizer > div > h6, .HyperMD-header-6)::after {
  background-image: linear-gradient(to left, var(--text-title-h6) 30%, transparent 70%); /* #cccc00 */
}

.theme-light body.h2-divider-on :is(.markdown-rendered > h2, .markdown-preview-sizer > div > h2, .HyperMD-header-2)::after {
  background-image: linear-gradient(to left, var(--text-title-h2) 30%, transparent 70%); /* #00b7eb */
}

.theme-light body.h3-divider-on :is(.markdown-rendered > h3, .markdown-preview-sizer > div > h3, .HyperMD-header-3)::after {
  background-image: linear-gradient(to left, var(--text-title-h3) 30%, transparent 70%); /* #ff8c00 */
}

.theme-light body.h4-divider-on :is(.markdown-rendered > h4, .markdown-preview-sizer > div > h4, .HyperMD-header-4)::after {
  background-image: linear-gradient(to left, var(--text-title-h4) 30%, transparent 70%); /* #0000cc */
}

.theme-light body.h5-divider-on :is(.markdown-rendered > h5, .markdown-preview-sizer > div > h5, .HyperMD-header-5)::after {
  background-image: linear-gradient(to left, var(--text-title-h5) 30%, transparent 70%); /* #cc0000 */
}

.theme-light body.h6-divider-on :is(.markdown-rendered > h6, .markdown-preview-sizer > div > h6, .HyperMD-header-6)::after {
  background-image: linear-gradient(to left, var(--text-title-h6) 30%, transparent 70%); /* #cccc00 */
}

/* Print-specific indicator and divider styling */
@media print {
  body:not(.heading-indicator-off) :is(h1, h2, h3, h4, h5, h6)::before {
    margin-right: 6px;
    content: " ";
    display: inline-block;
    width: 3px;
    height: calc(1.2em - 8px);
    border-radius: var(--radius-m);
    position: absolute;
    top: 4px;
    left: 0px;
  }

  .theme-dark body:not(.heading-indicator-off) h1::before { background-color: var(--text-title-h1); }
  .theme-dark body:not(.heading-indicator-off) h2::before { background-color: var(--text-title-h2); }
  .theme-dark body:not(.heading-indicator-off) h3::before { background-color: var(--text-title-h3); }
  .theme-dark body:not(.heading-indicator-off) h4::before { background-color: var(--text-title-h4); }
  .theme-dark body:not(.heading-indicator-off) h5::before { background-color: var(--text-title-h5); }
  .theme-dark body:not(.heading-indicator-off) h6::before { background-color: var(--text-title-h6); }

  .theme-light body:not(.heading-indicator-off) h1::before { background-color: var(--text-title-h1); }
  .theme-light body:not(.heading-indicator-off) h2::before { background-color: var(--text-title-h2); }
  .theme-light body:not(.heading-indicator-off) h3::before { background-color: var(--text-title-h3); }
  .theme-light body:not(.heading-indicator-off) h4::before { background-color: var(--text-title-h4); }
  .theme-light body:not(.heading-indicator-off) h5::before { background-color: var(--text-title-h5); }
  .theme-light body:not(.heading-indicator-off) h6::before { background-color: var(--text-title-h6); }

  body:is(.h2-divider-on, .h3-divider-on, .h4-divider-on, .h5-divider-on, .h6-divider-on) h2::after,
  body:is(.h2-divider-on, .h3-divider-on, .h4-divider-on, .h5-divider-on, .h6-divider-on) h3::after,
  body:is(.h2-divider-on, .h3-divider-on, .h4-divider-on, .h5-divider-on, .h6-divider-on) h4::after,
  body:is(.h2-divider-on, .h3-divider-on, .h4-divider-on, .h5-divider-on, .h6-divider-on) h5::after,
  body:is(.h2-divider-on, .h3-divider-on, .h4-divider-on, .h5-divider-on, .h6-divider-on) h6::after {
    content: "";
    position: absolute;
    height: 1px;
    width: 100%;
    right: 0;
    opacity: 0.5;
    bottom: 0;
  }

  .theme-dark body.h2-divider-on h2::after { background-image: linear-gradient(to left, var(--text-title-h2) 30%, transparent 70%); }
  .theme-dark body.h3-divider-on h3::after { background-image: linear-gradient(to left, var(--text-title-h3) 30%, transparent 70%); }
  .theme-dark body.h4-divider-on h4::after { background-image: linear-gradient(to left, var(--text-title-h4) 30%, transparent 70%); }
  .theme-dark body.h5-divider-on h5::after { background-image: linear-gradient(to left, var(--text-title-h5) 30%, transparent 70%); }
  .theme-dark body.h6-divider-on h6::after { background-image: linear-gradient(to left, var(--text-title-h6) 30%, transparent 70%); }

  .theme-light body.h2-divider-on h2::after { background-image: linear-gradient(to left, var(--text-title-h2) 30%, transparent 70%); }
  .theme-light body.h3-divider-on h3::after { background-image: linear-gradient(to left, var(--text-title-h3) 30%, transparent 70%); }
  .theme-light body.h4-divider-on h4::after { background-image: linear-gradient(to left, var(--text-title-h4) 30%, transparent 70%); }
  .theme-light body.h5-divider-on h5::after { background-image: linear-gradient(to left, var(--text-title-h5) 30%, transparent 70%); }
  .theme-light body.h6-divider-on h6::after { background-image: linear-gradient(to left, var(--text-title-h6) 30%, transparent 70%); }
}

/*=========================================================================================*/

/* Horizontal Rule */

/* Define fleuron SVG globally for both themes */
body {
  --fleuron: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" xml:space="preserve" width="279.4mm" height="152.4mm" fill="black" stroke-width="0" viewBox="0 0 279.4 152.4"><path class="fil0 str0" d="M277.581 151.999l0 -13.7038c-5.2453,0 -9.2621,-1.3233 -12.0031,-4.0168 -2.6935,-2.6935 -5.2922,-7.7971 -7.797,-15.3575l-2.2208 -6.9464c-5.0092,-15.3106 -13.1367,-25.3759 -24.5253,-30.1959 10.538,-2.0321 18.9021,-6.3325 25.1398,-12.948 6.2376,-6.5686 9.3564,-14.4125 9.3564,-23.4386 0,-12.6639 -4.7731,-23.1076 -14.2713,-31.3768 -9.4982,-8.2698 -21.5482,-12.381 -36.1025,-12.381 -22.1627,0 -39.2688,9.4982 -51.3662,28.4947l10.6323 9.0255c7.8445,-8.411 15.9251,-12.6171 24.2417,-12.6171 6.8047,0 12.6645,2.2214 17.5788,6.7104 4.8675,4.489 7.3249,9.8292 7.3249,16.0194 0,5.151 -1.9378,9.64 -5.7654,13.4202 -3.8277,3.7808 -8.3167,5.6706 -13.4677,5.6706 -9.309,0 -22.3988,-6.6155 -39.1739,-19.7996l-8.459 -6.663c-27.4074,-21.5956 -53.5395,-32.3697 -78.4901,-32.3697 -21.5956,0 -39.8833,7.0882 -54.8629,21.3121 -14.9796,14.2239 -22.4931,31.5192 -22.4931,51.9333 0,20.6976 7.7496,37.3784 23.2494,50.1372 15.4992,12.7114 35.8664,19.0908 61.0531,19.0908l4.5839 0 0 -13.7038c-14.9327,-0.9923 -26.7935,-6.1902 -35.5829,-15.5941 -8.7425,-9.3564 -13.1372,-21.5007 -13.1372,-36.4809 0,-14.7435 5.5288,-27.4074 16.5864,-37.8511 11.1051,-10.4906 24.4784,-15.7359 40.1668,-15.7359 15.1214,0 28.589,4.6314 40.4029,13.8461 11.8139,9.2146 17.7206,19.7521 17.7206,31.566 0,5.6231 -1.843,10.3963 -5.4814,14.2708 -3.639,3.8751 -8.128,5.8123 -13.4676,5.8123 -5.3871,0 -9.4039,-1.4645 -12.1449,-4.3472 -2.6935,-2.9296 -4.0637,-7.3243 -4.0637,-13.2316 0,-3.591 0.9923,-7.8439 3.0245,-12.7588l-12.4284 -5.6706c-5.5288,13.0898 -8.3167,24.1 -8.3167,32.9369 0,10.9158 3.5441,20.2248 10.5849,28.0219 7.0413,7.797 15.5941,11.7196 25.5176,11.7196 6.3794,0 12.1918,-1.5594 17.4845,-4.7257 5.2453,-3.1188 9.9235,-7.8445 14.0821,-14.2239 5.3871,13.3733 13.8455,22.7772 25.4228,28.1168 11.5778,5.3396 29.1566,8.0332 52.6895,8.0332l28.7782 0zm-99.6605 -67.5743c13.562,2.5992 25.9429,13.8929 37.1892,33.9292l2.3631 4.0163c4.9144,8.6476 10.821,14.3182 17.7206,17.0117 -35.2525,0 -54.3433,-18.3345 -57.2729,-54.9572z"/></svg>');
}

/* Horizontal rule styling for source and preview modes */
.markdown-source-view hr,
.markdown-preview-view hr:not(.footnotes hr) {
  --hr-height: calc(1em * var(--line-height-normal)); /* Unchanged, ~1em */
  --ornament-size: calc(1em * var(--line-height-normal)); /* Unchanged, ~1em */
  --ornament-right: 60px; /* Unchanged, positioning for fleuron */
  --ornament-padding: 5px; /* Unchanged, padding around fleuron */
  --hr-thickness: 1px; /* Unchanged, line thickness */
  border: none; /* Unchanged, removes default border */
  height: calc(var(--hr-height) + var(--hr-thickness)); /* Unchanged, total height */
}

/* Theme-specific horizontal rule colors */
.theme-dark .markdown-source-view hr,
.theme-dark .markdown-preview-view hr:not(.footnotes hr) {
  background-color: var(--accent); /* Uses dark theme accent (#1e90ff) */
  -webkit-mask-image: linear-gradient(to right, transparent, black 100px, black calc(100% - var(--ornament-right) - var(--ornament-padding) - 10px), transparent calc(100% - var(--ornament-right) - var(--ornament-padding)), transparent calc(100% - var(--ornament-right) + var(--ornament-size) + var(--ornament-padding)), black calc(100% - var(--ornament-right) + var(--ornament-size) + var(--ornament-padding) + 10px), black), var(--fleuron);
  -webkit-mask-size: 100% var(--hr-thickness), var(--ornament-size);
  -webkit-mask-position: center, calc(100% - var(--ornament-right) + var(--ornament-size)) center;
  -webkit-mask-repeat: no-repeat;
}

.theme-light .markdown-source-view hr,
.theme-light .markdown-preview-view hr:not(.footnotes hr) {
  background-color: var(--accent); /* Uses light theme accent (#0066cc) */
  -webkit-mask-image: linear-gradient(to right, transparent, black 100px, black calc(100% - var(--ornament-right) - var(--ornament-padding) - 10px), transparent calc(100% - var(--ornament-right) - var(--ornament-padding)), transparent calc(100% - var(--ornament-right) + var(--ornament-size) + var(--ornament-padding)), black calc(100% - var(--ornament-right) + var(--ornament-size) + var(--ornament-padding) + 10px), black), var(--fleuron);
  -webkit-mask-size: 100% var(--hr-thickness), var(--ornament-size);
  -webkit-mask-position: center, calc(100% - var(--ornament-right) + var(--ornament-size)) center;
  -webkit-mask-repeat: no-repeat;
}

/*=========================================================================================*/

/* Links  */
body {
  --link-decoration: doodle;
}

@container style(--link-decoration: doodle) {
  .cm-hmd-internal-link,
  .internal-link:not(:is(.metadata-container .internal-link)) {
    position: relative;
  }
  .cm-hmd-internal-link:hover::after,
  .internal-link:not(:is(.metadata-container .internal-link)):hover::after {
    content: "";
    position: absolute;
    transition: bottom 0.3s;
    left: 0;
    right: 0;
    bottom: -0.3em;
    height: 0.34em;
    background-color: gold; /*var(--link-color-hover);*/
    -webkit-mask-image: url("data:image/svg+xml,<svg width='100' height='64' fill='none' xmlns='http://www.w3.org/2000/svg'><path d='M-17 30.5C-1 22 72-4 54 13 37.9 28.2-2.5 57.5 16 55.5s72-29 104-40' stroke='black' stroke-width='14'/></svg>");
    -webkit-mask-size: auto 100%;
    -webkit-mask-repeat: repeat no-repeat;
  }
}
@container style(--link-external-decoration: doodle) {
  .cm-url,
  .cm-link,
  .external-link:not(:is(.metadata-container .external-link)) {
    position: relative;
  }
  .cm-url:hover::after,
  .cm-link:hover::after,
  .external-link:not(:is(.metadata-container .external-link)):hover::after {
    content: "";
    position: absolute;
    transition: bottom 0.3s;
    left: 0;
    right: 0;
    bottom: -0.3em;
    height: 0.34em;
    background-color: var(--link-color-hover);
    -webkit-mask-image: url("data:image/svg+xml,<svg width='100' height='64' fill='none' xmlns='http://www.w3.org/2000/svg'><path d='M-17 30.5C-1 22 72-4 54 13 37.9 28.2-2.5 57.5 16 55.5s72-29 104-40' stroke='black' stroke-width='14'/></svg>");
    -webkit-mask-size: auto 100%;
    -webkit-mask-repeat: repeat no-repeat;
  }
}
body {
  --link-decoration-hover: var(--link-decoration);
  --link-external-decoration: underline;
  --link-external-decoration-hover: var(--link-external-decoration);
  --link-decoration-thickness: 2px;
  --link-decoration-thickness-hover: 1px;
}

@container not style(--link-decoration: doodle) {
  .cm-hmd-internal-link .cm-underline,
  .markdown-rendered .internal-link:not(:is(.metadata-container .internal-link)),
  .internal-link:not(:is(.metadata-container .internal-link)) {
    text-underline-offset: 0.2em;
    transition: text-underline-offset 0.3s, opacity 0.15s ease-in-out;
  }
  .cm-hmd-internal-link .cm-underline:hover,
  .markdown-rendered .internal-link:not(:is(.metadata-container .internal-link)):hover,
  .internal-link:not(:is(.metadata-container .internal-link)):hover {
    text-underline-offset: calc(0.4em + var(--link-decoration-thickness) - var(--link-decoration-thickness-hover));
    text-decoration-thickness: var(--link-decoration-thickness-hover);
  }
}
@container not style(--link-external-decoration: none) {
  .cm-url .cm-underline,
  .cm-link .cm-underline,
  .external-link:not(:is(.metadata-container .external-link)) {
    text-underline-offset: 0.2em;
    transition: text-underline-offset 0.3s, opacity 0.15s ease-in-out;
  }
  .cm-url .cm-underline:hover,
  .cm-link .cm-underline:hover,
  .external-link:not(:is(.metadata-container .external-link)):hover {
    text-underline-offset: calc(0.4em + var(--link-decoration-thickness) - var(--link-decoration-thickness-hover));
    text-decoration-thickness: var(--link-decoration-thickness-hover);
  }
}
.cm-s-obsidian span.cm-url, .cm-s-obsidian span.cm-url:hover,
.cm-s-obsidian span.cm-link,
.cm-s-obsidian span.cm-link:hover,
.cm-s-obsidian span.cm-hmd-internal-link,
.cm-s-obsidian span.cm-hmd-internal-link:hover {
  text-decoration-line: none;
}

.external-link {
  background-position: top right;
  background-size: 10px;
  padding-inline-end: 13px;
}

.markdown-source-view.mod-cm6 .is-unresolved .cm-underline,
.markdown-source-view.mod-cm6 .cm-underline.is-unresolved,
.markdown-source-view.mod-cm6 .cm-underline {
  text-decoration-line: underline;
  text-decoration-thickness: 2px;
  color: var(--text-normal);
  text-decoration-color: var(--color-accent);
  text-decoration-skip-ink: none;
  font-weight: 600;
}

.markdown-rendered .internal-link {
  text-decoration-line: underline;
  text-decoration-thickness: 2px;
  color: var(--text-normal);
  text-decoration-color: var(--color-accent);
  text-decoration-skip-ink: none;
  font-weight: 600;
}
.markdown-rendered .internal-link:hover {
  text-decoration: none;
  color: var(--text-accent);
  font-weight: 600;
}

.external-link {
  text-decoration-line: underline;
  text-decoration-thickness: 2px;
  color: var(--text-normal);
  text-decoration-color: var(--color-accent);
  text-decoration-skip-ink: none;
  font-weight: 600;
}

.external-link:hover {
  text-decoration: none;
  color: var(--text-accent);
  font-weight: 600;
}

/*=========================================================================================*/

/* Text Emphasis */

/* Italic emphasis (<em>, .cm-em) */
.theme-dark .cm-s-obsidian .cm-em,
.theme-dark .markdown-preview-view em {
  color: var(--text-title-h6); /* Matches h6 color (#cccc00) for dark theme */
  font-style: italic;
  font-weight: 600;
}

.theme-light .cm-s-obsidian .cm-em,
.theme-light .markdown-preview-view em {
  color: var(--text-title-h4); /* Matches h6 color (#cccc00) for light theme */
  font-style: italic;
  font-weight: 600;
}

/* Bold emphasis (<strong>, .cm-strong) */
.theme-dark .cm-s-obsidian .cm-strong,
.theme-dark .markdown-preview-view strong {
  color: var(--text-title-h2); /* Matches h2 color (#00e6e6) for dark theme */
  font-weight: 700;
}

.theme-light .cm-s-obsidian .cm-strong,
.theme-light .markdown-preview-view strong {
  color: var(--text-title-h2); /* Matches h2 color (#00b7eb) for light theme */
  font-weight: 700;
}

/* Combined emphasis (<em><strong>, .cm-em.cm-strong) */
.theme-dark .cm-s-obsidian .cm-em.cm-strong,
.theme-dark .markdown-preview-view strong > em,
.theme-dark .markdown-preview-view em > strong {
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  padding: 0;
  background-image: linear-gradient(62deg, var(--text-title-h2) 0%, var(--text-title-h6) 100%); /* Gradient from h2 to h6 colors */
}

.theme-light .cm-s-obsidian .cm-em.cm-strong,
.theme-light .markdown-preview-view strong > em,
.theme-light .markdown-preview-view em > strong {
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  padding: 0;
  background-image: linear-gradient(62deg, var(--text-title-h2) 0%, var(--text-title-h4) 100%); /* Gradient from h2 to h6 colors */
}

/*=========================================================================================*/

/* Embedded Images */
img {
    display: block;
    margin: 0 auto;
    max-width: 100%; /* Prevent overflow */
    border: 1px solid var(--accent); /* Cyan border for contrast */
    border-radius: 6px; /* Matches clickable-icon-radius */
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1); /* Subtle shadow for depth */
    transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
}

img:hover {
    transform: scale(1.02); /* Slight scale for interactivity */
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15); /* Enhanced shadow on hover */
}


/*=========================================================================================*/

/* Accessibility Focus Styles */
a:focus, button:focus, input:focus, textarea:focus {
  outline: 2px solid var(--interactive-accent);
}

/* Print-specific header styling */
@media print {
  :is(h1, h2, h3, h4, h5, h6) {
    position: relative; /* Unchanged, ensures positioning context */
  }

  body:not(.heading-indicator-off) :is(h1, h2, h3, h4, h5, h6) {
    text-indent: 9px; /* Unchanged, consistent with editor */
  }

  :is(h1::before, h2::before, h3::before, h4::before, h5::before, h6::before) {
    margin-right: 6px;
    content: " ";
    display: inline-block;
    width: 3px;
    height: calc(1.2em - 8px);
    border-radius: var(--radius-m);
    position: absolute;
    top: 4px;
    left: 0px;
  }

  h1::before { background-color: var(--h1-color); }
  h2::before { background-color: var(--h2-color); }
  h3::before { background-color: var(--h3-color); }
  h4::before { background-color: var(--h4-color); }
  h5::before { background-color: var(--h5-color); }
  h6::before { background-color: var(--h6-color); }

  body:is(.h2-divider-on, .h3-divider-on, .h4-divider-on, .h5-divider-on, .h6-divider-on) :is(h2, h3, h4, h5, h6)::after {
    content: "";
    position: absolute;
    height: 1px;
    width: 100%;
    right: 0;
    opacity: 0.5;
    bottom: 0;
  }

  body.h2-divider-on h2::after { background-image: linear-gradient(to left, var(--h2-color) 30%, transparent 70%); }
  body.h3-divider-on h3::after { background-image: linear-gradient(to left, var(--h3-color) 30%, transparent 70%); }
  body.h4-divider-on h4::after { background-image: linear-gradient(to left, var(--h4-color) 30%, transparent 70%); }
  body.h5-divider-on h5::after { background-image: linear-gradient(to left, var(--h5-color) 30%, transparent 70%); }
  body.h6-divider-on h6::after { background-image: linear-gradient(to left, var(--h6-color) 30%, transparent 70%); }
}
